(()=>{"use strict";function e(){function e(e){return e.split(" ")}function t(e,t){t.forEach((t=>{e.classList.add(t)}))}return{getID:function(){return"_"+Math.random().toString(36).substr(2,9)},classAdder:t,splitString:e,stringToClass:function(n,s){t(n,e(s))},getFormData:e=>{const t=new FormData(e.target);return Object.fromEntries(t)},toogleElement:function(e){let t=document.getElementById(e);t.classList.contains("d-none")?t.classList.remove("d-none"):t.classList.add("d-none")}}}const t={events:{},subscribe:function(e,t){console.log(`PUBSUB: someone just subscribed to know about ${e}`),this.events[e]=this.events[e]||[],this.events[e].push(t)},unsubscribe:function(e,t){console.log(`PUBSUB: someone just UNsubscribed from ${e}`),this.events[e]&&(this.events[e]=this.events[e].filter((e=>e!==t)))},publish:function(e,t){console.log(`PUBSUB: Making an broadcast about ${e} with ${t}`),this.events[e]&&this.events[e].forEach((e=>{e(t)}))}};function n(){const n=function(){const e=[];return{addTask:t=>{e.push(t),console.log(e)},removeTask:t=>{e=e.filter((e=>!t))}}}(),s=e(),o=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div");return s.stringToClass(o,"col-8 container-sm bg-light card-body"),s.stringToClass(r,"container-md card m-2 p-1 mr-1"),s.stringToClass(a,"container row"),s.stringToClass(i,"col-1 bg-light"),a.style="gap: 10px",r.append(a),o.append(r),t.subscribe("newTask",(e=>{var t;t=function(e){const t=document.createElement("div"),n=document.createElement("p"),o=document.createElement("button"),r=document.createElement("button");return s.stringToClass(n,"m-2 col-xl"),s.stringToClass(o,"btn btn-outline-primary col-sm pl-2"),s.stringToClass(r,"btn btn-outline-danger col-sm"),t.append(n,r,o),o.innerText="DONE",r.innerText="Remove",n.innerText=e.taskName,n.style="flex-grow: 10",t.append(n,r,o),t}(e),a.append(t)})),t.subscribe("newTask",(e=>{!function(e){let s=function(e){let n=e.taskName;return(new Date).getDate(),{removeSelf:()=>{t.publish("removeTask")},getName:e=>n}}(e);n.addTask(s)}(e)})),t.subscribe("removeTask",(e=>n.removeTask)),o}document.addEventListener("DOMContentLoaded",(s=>{let o=document.getElementById("content");const r=function(){const t=e(),n=document.createElement("nav"),s=document.createElement("div"),o=document.createElement("a");return t.stringToClass(n,"navbar navbar-expand-md navbar-dark bg-dark"),t.stringToClass(s,"container-fluid"),t.stringToClass(o,"navbar-brand"),o.innerText="Todolist",s.append(o),n.append(s),n}(),a=function(){const n=e(),s=document.createElement("div"),o=document.createElement("a"),r=document.createElement("img"),a=document.createElement("span"),i=document.createElement("hr"),c=document.createElement("ul"),l=document.createElement("form"),d=document.createElement("div"),m=document.createElement("form"),u=document.createElement("div"),p=document.createElement("button"),b=document.createElement("input"),g=(document.createElement("area"),document.createElement("input")),T=document.createElement("button"),v=document.createElement("div"),f=document.createElement("button"),E=document.createElement("button"),h="form-control",C="btn btn-outline-primary";return n.stringToClass(s,"d-flex flex-column flex-shrink-0 p-3 bg-light col-3 border"),n.stringToClass(r,"m-2"),n.stringToClass(o,"d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none"),n.stringToClass(a,"fs-4"),n.stringToClass(c,"nav nav-pills flex-column mb-auto"),n.stringToClass(v,"b-example-divider d-flex justify-content-center"),n.stringToClass(f,"btn btn-primay"),n.stringToClass(E,"btn btn-primay m-2"),n.stringToClass(l,"form-group m-2 p-1 input-group d-none"),n.stringToClass(m,"form-group m-2 p-1 input-group d-none"),n.stringToClass(u,"d-flex justify-content-center"),n.stringToClass(g,h),n.stringToClass(T,C),n.stringToClass(p,C),n.stringToClass(b,h),s.style="width: 280px;",a.innerText="Projects",r.style="width: 30px",f.innerText="+ New Project",E.innerText="+ Task",d.style="width: 150px;",u.style="width: 200px",T.innerText="+",p.innerText="+",g.setAttribute("placeholder","New Project"),b.setAttribute("placeholder","New Task"),r.setAttribute("src","../sandbox/public/todo.svg"),l.setAttribute("action","submit"),l.setAttribute("id","form"),m.setAttribute("action","submit"),m.setAttribute("id","formTask"),m.setAttribute("name","taskForm"),b.setAttribute("name","taskName"),g.setAttribute("name","name"),l.addEventListener("submit",(e=>{e.preventDefault();let s=n.getFormData(e);t.publish("liSubmit",s),l.reset()})),m.addEventListener("submit",(e=>{e.preventDefault();let s=n.getFormData(e);t.publish("newTask",s),console.log(s),m.reset()})),f.addEventListener("click",(e=>{t.publish("toogleForm","formProject")})),E.addEventListener("click",(e=>{t.publish("toogleForm","formTask")})),t.subscribe("toogleForm",n.toogleElement),t.subscribe("toogleTask",n.toogleElement),t.subscribe("liSubmit",(function(e){const s=document.createElement("li"),o=document.createElement("a"),r=document.createElement("svg");return n.stringToClass(s,"nav-item m-2"),n.stringToClass(o,"nav-link active"),n.stringToClass(r,"bi me-2"),o.innerText=e,r.setAttribute("width",16),r.setAttribute("height",16),o.append(r),s.append(o),t.publish("createLi",s),s})),t.subscribe("createLi",(function(e){document.querySelector("ul").append(e)})),o.append(r,a),d.append(g),l.append(T),l.append(d),m.append(p,b),u.append(m),s.append(o),s.append(f),s.append(E),s.append(l),s.append(u),s.append(i),s.append(c),s.append(v),{divSidebar:s}}().divSidebar,i=n();o.append(r);const c=document.createElement("div");c.classList.add("row"),c.append(a),c.append(i),o.append(c)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVdyQyxjQUFjNkYsRUFOUixXQVVqQnpCLEVBQUVsQixVQUFZeUMsRUFJZEUsRUFBSUwsYUFBYSxRQUFTLElBQzFCSyxFQUFJTCxhQUFhLFNBQVUsSUFHM0JwQixFQUFFeEIsT0FBT2lELEdBRVRELEVBQUdoRCxPQUFPd0IsR0FDVnJELEVBQU9ZLFFBQVEsV0FBWWlFLEdBQ3BCQSxDQUNYLElBR0E3RSxFQUFPRSxVQUFVLFlBQ2pCLFNBQWdCMkUsR0FDWmpGLFNBQVNtRixjQUFjLE1BQU1sRCxPQUFPZ0QsRUFDeEMsSUFHQXhCLEVBQUV4QixPQUFPMkIsRUFBS0MsR0FFZEksRUFBUWhDLE9BQU9xQyxHQUNmTixFQUFZL0IsT0FBT3NDLEdBQ25CUCxFQUFZL0IsT0FBT2dDLEdBR25CQyxFQUFTakMsT0FBT21DLEVBQWVDLEdBQy9CRixFQUFZbEMsT0FBT2lDLEdBRW5CUCxFQUFXMUIsT0FBT3dCLEdBQ2xCRSxFQUFXMUIsT0FBT3dDLEdBQ2xCZCxFQUFXMUIsT0FBT3lDLEdBQ2xCZixFQUFXMUIsT0FBTytCLEdBQ2xCTCxFQUFXMUIsT0FBT2tDLEdBQ2xCUixFQUFXMUIsT0FBTzZCLEdBQ2xCSCxFQUFXMUIsT0FBTzhCLEdBQ2xCSixFQUFXMUIsT0FBT3VDLEdBSVgsQ0FBRWIsYUFFYixDRm5MNkJ5QixHQUFVekIsV0FDckJ2QyxFQUFTRixJQUVmbUMsRUFBUXBCLE9BQU9xQixHQUNmLE1BQU1FLEVBQU14RCxTQUFTNEIsY0FBYyxPQUNuQzRCLEVBQUkxRSxVQUFVQyxJQUFJLE9BQ2xCeUUsRUFBSXZCLE9BQU95QixHQUNYRixFQUFJdkIsT0FBT2IsR0FDWGlDLEVBQVFwQixPQUFPdUIsRUFBRyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby8uL3NyYy9qcy9saWJzLmpzIiwid2VicGFjazovL3RvZG8vLi9zcmMvanMvcHVic3ViLmpzIiwid2VicGFjazovL3RvZG8vLi9zcmMvanMvdGFza3MuanMiLCJ3ZWJwYWNrOi8vdG9kby8uL3NyYy9qcy9kb20uanMiLCJ3ZWJwYWNrOi8vdG9kby8uL3NyYy9qcy9uYXZiYXIuanMiLCJ3ZWJwYWNrOi8vdG9kby8uL3NyYy9qcy9zaWRlYmFyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFyIH0gZnJvbSBcImRhdGUtZm5zL2xvY2FsZVwiO1xuXG5cblxuXG5leHBvcnQgZnVuY3Rpb24gbGlicygpIHtcblxuICAgIGNvbnN0IGdldEZvcm1EYXRhID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGV2ZW50LnRhcmdldClcbiAgICAgICAgY29uc3QgZm9ybVByb3BzID0gT2JqZWN0LmZyb21FbnRyaWVzKGZvcm1EYXRhKVxuICAgICAgICByZXR1cm4gZm9ybVByb3BzXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3BsaXRTdHJpbmcoc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcuc3BsaXQoXCIgXCIpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xhc3NBZGRlcihlbGVtZW50LCBhcnJheSkge1xuICAgICAgICBhcnJheS5mb3JFYWNoKHN0cmluZyA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoc3RyaW5nKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdHJpbmdUb0NsYXNzKGVsZW1lbnQsIHN0cmluZykge1xuICAgICAgICBsZXQgYXJyID0gc3BsaXRTdHJpbmcoc3RyaW5nKVxuICAgICAgICBjbGFzc0FkZGVyKGVsZW1lbnQsIGFycilcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJRCgpIHtcbiAgICAgICAgcmV0dXJuICdfJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTtcbiAgICB9XG5cblxuXG4gICAgZnVuY3Rpb24gdG9vZ2xlRWxlbWVudChpZCkge1xuICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKVxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Qtbm9uZScpKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpXG4gICAgICAgIH1cblxuICAgIH1cblxuXG5cblxuICAgIHJldHVybiB7IGdldElELCBjbGFzc0FkZGVyLCBzcGxpdFN0cmluZywgc3RyaW5nVG9DbGFzcywgZ2V0Rm9ybURhdGEsIHRvb2dsZUVsZW1lbnQgfVxuXG59XG5cblxuXG5cblxuXG5cbiIsImV4cG9ydCBjb25zdCBwdWJzdWIgPSB7XG4gICAgZXZlbnRzOiB7fSxcbiAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIChldk5hbWUsIGZuKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBQVUJTVUI6IHNvbWVvbmUganVzdCBzdWJzY3JpYmVkIHRvIGtub3cgYWJvdXQgJHtldk5hbWV9YCk7XG4gICAgICAgIC8vYWRkIGFuIGV2ZW50IHdpdGggYSBuYW1lIGFzIG5ldyBvciB0byBleGlzdGluZyBsaXN0XG4gICAgICAgIHRoaXMuZXZlbnRzW2V2TmFtZV0gPSB0aGlzLmV2ZW50c1tldk5hbWVdIHx8IFtdO1xuICAgICAgICB0aGlzLmV2ZW50c1tldk5hbWVdLnB1c2goZm4pO1xuICAgIH0sXG4gICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIChldk5hbWUsIGZuKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBQVUJTVUI6IHNvbWVvbmUganVzdCBVTnN1YnNjcmliZWQgZnJvbSAke2V2TmFtZX1gKTtcbiAgICAgICAgLy9yZW1vdmUgYW4gZXZlbnQgZnVuY3Rpb24gYnkgbmFtZVxuICAgICAgICBpZiAodGhpcy5ldmVudHNbZXZOYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZOYW1lXSA9IHRoaXMuZXZlbnRzW2V2TmFtZV0uZmlsdGVyKGYgPT4gZiAhPT0gZm4pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBwdWJsaXNoOiBmdW5jdGlvbiAoZXZOYW1lLCBkYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBQVUJTVUI6IE1ha2luZyBhbiBicm9hZGNhc3QgYWJvdXQgJHtldk5hbWV9IHdpdGggJHtkYXRhfWApO1xuICAgICAgICAvL2VtaXR8cHVibGlzaHxhbm5vdW5jZSB0aGUgZXZlbnQgdG8gYW55b25lIHdobyBpcyBzdWJzY3JpYmVkXG4gICAgICAgIGlmICh0aGlzLmV2ZW50c1tldk5hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1tldk5hbWVdLmZvckVhY2goZiA9PiB7XG4gICAgICAgICAgICAgICAgZihkYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufTsiLCJpbXBvcnQgeyBsaWJzIH0gZnJvbSBcIi4vbGlic1wiO1xuaW1wb3J0IHsgcHVic3ViIH0gZnJvbSAnLi9wdWJzdWIuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0YXNrcygpIHtcblxuXG4gICAgY29uc3QgVGFzayA9IGZ1bmN0aW9uICh0YXNrT2JqKSB7XG5cbiAgICAgICAgbGV0IF90YXNrTmFtZSA9IHRhc2tPYmoudGFza05hbWVcbiAgICAgICAgbGV0IGRhdGVDcmVhdGVkID0gbmV3IERhdGUoKS5nZXREYXRlKClcblxuICAgICAgICBjb25zdCByZW1vdmVTZWxmID0gKCkgPT4ge1xuICAgICAgICAgICAgcHVic3ViLnB1Ymxpc2goJ3JlbW92ZVRhc2snKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ2V0TmFtZSA9IChwcm9wKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gX3Rhc2tOYW1lXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyByZW1vdmVTZWxmLCBnZXROYW1lIH1cbiAgICB9XG5cbiAgICBjb25zdCB0YXNrTG9naWMgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBfdGFza3MgPSBbXVxuXG4gICAgICAgIGNvbnN0IGFkZFRhc2sgPSAodGFzaykgPT4ge1xuICAgICAgICAgICAgX3Rhc2tzLnB1c2godGFzaylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKF90YXNrcyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZW1vdmVUYXNrID0gKHRhcmdldFRhc2spID0+IHtcbiAgICAgICAgICAgIF90YXNrcyA9IF90YXNrcy5maWx0ZXIodCA9PiB0ID0gIXRhcmdldFRhc2spXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBhZGRUYXNrLCByZW1vdmVUYXNrIH1cbiAgICB9KSgpXG5cblxuICAgIGNvbnN0IGxpYnNIZWxwZXIgPSBsaWJzKClcblxuICAgIGNvbnN0IGRpdkJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIGNvbnN0IGRpdkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgY29uc3QgZGl2Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcblxuICAgIGNvbnN0IGRpdkdhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG5cbiAgICBjb25zdCBkaXZCb2R5Q2xhc3MgPSAnY29sLTggY29udGFpbmVyLXNtIGJnLWxpZ2h0IGNhcmQtYm9keSdcbiAgICBjb25zdCBkaXZDb250YWluZXJDbGFzcyA9ICdjb250YWluZXItbWQgY2FyZCBtLTIgcC0xIG1yLTEnXG4gICAgY29uc3QgZGl2Um93Q2xhc3MgPSAnY29udGFpbmVyIHJvdydcblxuICAgIGNvbnN0IGRpdkdhcENsYXNzID0gJ2NvbC0xIGJnLWxpZ2h0J1xuXG5cbiAgICBsaWJzSGVscGVyLnN0cmluZ1RvQ2xhc3MoZGl2Qm9keSwgZGl2Qm9keUNsYXNzKVxuICAgIGxpYnNIZWxwZXIuc3RyaW5nVG9DbGFzcyhkaXZDb250YWluZXIsIGRpdkNvbnRhaW5lckNsYXNzKVxuICAgIGxpYnNIZWxwZXIuc3RyaW5nVG9DbGFzcyhkaXZSb3csIGRpdlJvd0NsYXNzKVxuXG4gICAgbGlic0hlbHBlci5zdHJpbmdUb0NsYXNzKGRpdkdhcCwgZGl2R2FwQ2xhc3MpXG5cbiAgICBkaXZSb3cuc3R5bGUgPSAnZ2FwOiAxMHB4J1xuXG5cblxuICAgIGRpdkNvbnRhaW5lci5hcHBlbmQoZGl2Um93KVxuICAgIGRpdkJvZHkuYXBwZW5kKGRpdkNvbnRhaW5lcilcblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlVGFza01lbW9yeSh0YXNrT2JqKSB7XG4gICAgICAgIGxldCBuZXdUYXNrID0gVGFzayh0YXNrT2JqKVxuICAgICAgICB0YXNrTG9naWMuYWRkVGFzayhuZXdUYXNrKVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlVGFza0RvbSh0YXNrT2JqKSB7XG5cbiAgICAgICAgY29uc3QgdGFza0NvbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgICAgIGNvbnN0IGJ0bkRvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgICAgICBjb25zdCBidG5SZW1vdmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgICAgICBjb25zdCBwQ2xhc3MgPSAnbS0yIGNvbC14bCdcbiAgICAgICAgY29uc3QgYnRuRG9uZUNsYXNzID0gJ2J0biBidG4tb3V0bGluZS1wcmltYXJ5IGNvbC1zbSBwbC0yJ1xuICAgICAgICBjb25zdCBidG5SZW1vdmVDbGFzcyA9ICdidG4gYnRuLW91dGxpbmUtZGFuZ2VyIGNvbC1zbSdcbiAgICAgICAgbGlic0hlbHBlci5zdHJpbmdUb0NsYXNzKHAsIHBDbGFzcylcbiAgICAgICAgbGlic0hlbHBlci5zdHJpbmdUb0NsYXNzKGJ0bkRvbmUsIGJ0bkRvbmVDbGFzcylcbiAgICAgICAgbGlic0hlbHBlci5zdHJpbmdUb0NsYXNzKGJ0blJlbW92ZSwgYnRuUmVtb3ZlQ2xhc3MpXG4gICAgICAgIHRhc2tDb21wLmFwcGVuZChwLCBidG5SZW1vdmUsIGJ0bkRvbmUpXG4gICAgICAgIGJ0bkRvbmUuaW5uZXJUZXh0ID0gJ0RPTkUnXG4gICAgICAgIGJ0blJlbW92ZS5pbm5lclRleHQgPSAnUmVtb3ZlJ1xuXG4gICAgICAgIHAuaW5uZXJUZXh0ID0gdGFza09iai50YXNrTmFtZVxuICAgICAgICBwLnN0eWxlID0gJ2ZsZXgtZ3JvdzogMTAnXG4gICAgICAgIHRhc2tDb21wLmFwcGVuZChwLCBidG5SZW1vdmUsIGJ0bkRvbmUpXG4gICAgICAgIHJldHVybiB0YXNrQ29tcFxuXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBhcHBlbmRUYXNrKHRhc2spIHtcbiAgICAgICAgZGl2Um93LmFwcGVuZCh0YXNrKVxuICAgIH1cblxuICAgIHB1YnN1Yi5zdWJzY3JpYmUoJ25ld1Rhc2snLCAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYXNrID0gY3JlYXRlVGFza0RvbShkYXRhKVxuICAgICAgICBhcHBlbmRUYXNrKG5ld1Rhc2spXG4gICAgfSlcblxuICAgIHB1YnN1Yi5zdWJzY3JpYmUoJ25ld1Rhc2snLCAoZGF0YSkgPT4geyBjcmVhdGVUYXNrTWVtb3J5KGRhdGEpIH0pXG4gICAgcHVic3ViLnN1YnNjcmliZSgncmVtb3ZlVGFzaycsICh0YXNrKSA9PiB0YXNrTG9naWMucmVtb3ZlVGFzaylcblxuXG5cblxuICAgIHJldHVybiBkaXZCb2R5XG59IiwiaW1wb3J0IHsgYWRkIH0gZnJvbSBcImRhdGUtZm5zXCI7XG5pbXBvcnQgbmF2YmFyIGZyb20gXCIuL25hdmJhclwiXG5pbXBvcnQgc2lkZWJhciBmcm9tIFwiLi9zaWRlYmFyXCJcbmltcG9ydCB0YXNrcyBmcm9tIFwiLi90YXNrc1wiO1xuXG5leHBvcnQgZGVmYXVsdFxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vSG9vayBmb3IgZm9yIGNvbnRlbnRcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKGUpID0+IHtcblxuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpXG4gICAgICAgICAgICBjb25zdCBfbmF2ID0gbmF2YmFyKClcbiAgICAgICAgICAgIGNvbnN0IF9zaWRlYmFyID0gc2lkZWJhcigpLmRpdlNpZGViYXJcbiAgICAgICAgICAgIGNvbnN0IF90YXNrcyA9IHRhc2tzKClcblxuICAgICAgICAgICAgY29udGVudC5hcHBlbmQoX25hdilcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ3JvdycpXG4gICAgICAgICAgICBkaXYuYXBwZW5kKF9zaWRlYmFyKVxuICAgICAgICAgICAgZGl2LmFwcGVuZChfdGFza3MpXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZChkaXYpXG4gICAgICAgIH0pXG5cblxuICAgIH0pKClcblxuIiwiXG5cbmltcG9ydCB7IGxpYnMgfSBmcm9tIFwiLi9saWJzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBuYXYoKSB7XG5cbiAgICAvL0lOSVQgTElCU1xuICAgIGNvbnN0IGxpYnNIZWxwZXIgPSBsaWJzKClcblxuICAgIC8vQ1JFQVRFIEVMRU1FTlRTXG4gICAgY29uc3QgbmF2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbmF2JylcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG4gICAgLy9DTEFTUyBTVFJJTkcgRlJPTSBIVE1MIEJPSUxFUiBQTEFURVxuICAgIGNvbnN0IG5hdkNsYXNzID0gJ25hdmJhciBuYXZiYXItZXhwYW5kLW1kIG5hdmJhci1kYXJrIGJnLWRhcmsnXG4gICAgY29uc3QgZGl2Q2xhc3MgPSAnY29udGFpbmVyLWZsdWlkJ1xuICAgIGNvbnN0IGFDbGFzcyA9ICduYXZiYXItYnJhbmQnXG5cblxuICAgIGxpYnNIZWxwZXIuc3RyaW5nVG9DbGFzcyhuYXYsIG5hdkNsYXNzKVxuICAgIGxpYnNIZWxwZXIuc3RyaW5nVG9DbGFzcyhkaXYsIGRpdkNsYXNzKVxuICAgIGxpYnNIZWxwZXIuc3RyaW5nVG9DbGFzcyhhLCBhQ2xhc3MpXG5cbiAgICAvL0FkZCBUZXh0IENvbnRlbnRcbiAgICBhLmlubmVyVGV4dCA9ICdUb2RvbGlzdCdcblxuICAgIGRpdi5hcHBlbmQoYSlcbiAgICBuYXYuYXBwZW5kKGRpdilcblxuICAgIHJldHVybiBuYXZcblxufSIsIlxuXG5pbXBvcnQgeyBpdCB9IGZyb20gXCJkYXRlLWZucy9sb2NhbGVcIjtcbmltcG9ydCB7IGxpYnMgfSBmcm9tIFwiLi9saWJzXCI7XG5pbXBvcnQgeyBwdWJzdWIgfSBmcm9tICcuL3B1YnN1Yi5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzaWRlYmFyKCkge1xuXG4gICAgLy9JTklUIExJQlNcbiAgICBjb25zdCBsaWJzSGVscGVyID0gbGlicygpXG5cbiAgICAvL0NSRUFURSBFTEVNRU5UU1xuICAgIGNvbnN0IGRpdlNpZGViYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgY29uc3QgaHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdocicpO1xuICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKVxuXG4gICAgY29uc3QgZm9ybVByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJylcbiAgICBjb25zdCBmb3JtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcblxuICAgIGNvbnN0IGZvcm1UYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpXG4gICAgY29uc3QgZm9ybVRhc2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIGNvbnN0IHRhc2tTdWJtaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgIGNvbnN0IHRhc2tJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgICBjb25zdCB0YXNrVGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhcmVhJylcblxuXG5cbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgIC8vRGl2ZGVyXG4gICAgY29uc3QgZGl2RGl2ZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBidG5Qcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgY29uc3QgYnRuVGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG5cbiAgICAvL0NMQVNTIFNUUklORyBGUk9NIEhUTUwgQk9JTEVSIFBMQVRFXG4gICAgY29uc3QgZGl2U2lkZWJhckNsYXNzID0gJ2QtZmxleCBmbGV4LWNvbHVtbiBmbGV4LXNocmluay0wIHAtMyBiZy1saWdodCBjb2wtMyBib3JkZXInXG4gICAgY29uc3QgYUNsYXNzID0gXCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG1iLTMgbWItbWQtMCBtZS1tZC1hdXRvIGxpbmstZGFyayB0ZXh0LWRlY29yYXRpb24tbm9uZVwiXG4gICAgY29uc3QgaW1nQ2xhc3MgPSAnbS0yJ1xuICAgIGNvbnN0IHNwYW5DbGFzcyA9ICdmcy00J1xuICAgIC8vIGNvbnN0IGhyQ2xhc3MgPSAnJ1xuICAgIGNvbnN0IHVsQ2xhc3MgPSAnbmF2IG5hdi1waWxscyBmbGV4LWNvbHVtbiBtYi1hdXRvJ1xuICAgIGNvbnN0IGRpdkRpdmRlQ2xhc3MgPSAnYi1leGFtcGxlLWRpdmlkZXIgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXG4gICAgY29uc3QgYnRuUHJvamVjdENsYXNzID0gJ2J0biBidG4tcHJpbWF5J1xuICAgIGNvbnN0IGJ0blRhc2tDbGFzcyA9ICdidG4gYnRuLXByaW1heSBtLTInXG4gICAgY29uc3QgZm9ybVByb2plY3RDbGFzcyA9ICdmb3JtLWdyb3VwIG0tMiBwLTEgaW5wdXQtZ3JvdXAgZC1ub25lJ1xuICAgIGNvbnN0IGlucHV0Q2xhc3MgPSAnZm9ybS1jb250cm9sJ1xuICAgIGNvbnN0IHN1Ym1pdEJ0bkNsYXNzID0gJ2J0biBidG4tb3V0bGluZS1wcmltYXJ5J1xuICAgIGNvbnN0IGZvcm1UYXNrQ2xhc3MgPSAnZm9ybS1ncm91cCBtLTIgcC0xIGlucHV0LWdyb3VwIGQtbm9uZSdcbiAgICBjb25zdCBmb3JtVGFza0RpdkNsYXNzID0gJ2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xuXG4gICAgbGlic0hlbHBlci5zdHJpbmdUb0NsYXNzKGRpdlNpZGViYXIsIGRpdlNpZGViYXJDbGFzcylcbiAgICBsaWJzSGVscGVyLnN0cmluZ1RvQ2xhc3MoaW1nLCBpbWdDbGFzcylcbiAgICBsaWJzSGVscGVyLnN0cmluZ1RvQ2xhc3MoYSwgYUNsYXNzKVxuICAgIGxpYnNIZWxwZXIuc3RyaW5nVG9DbGFzcyhzcGFuLCBzcGFuQ2xhc3MpXG4gICAgLy8gbGlic0hlbHBlci5zdHJpbmdUb0NsYXNzKGhyLCBockNsYXNzKVxuICAgIGxpYnNIZWxwZXIuc3RyaW5nVG9DbGFzcyh1bCwgdWxDbGFzcylcbiAgICBsaWJzSGVscGVyLnN0cmluZ1RvQ2xhc3MoZGl2RGl2ZGUsIGRpdkRpdmRlQ2xhc3MpXG4gICAgbGlic0hlbHBlci5zdHJpbmdUb0NsYXNzKGJ0blByb2plY3QsIGJ0blByb2plY3RDbGFzcylcbiAgICBsaWJzSGVscGVyLnN0cmluZ1RvQ2xhc3MoYnRuVGFzaywgYnRuVGFza0NsYXNzKVxuICAgIGxpYnNIZWxwZXIuc3RyaW5nVG9DbGFzcyhmb3JtUHJvamVjdCwgZm9ybVByb2plY3RDbGFzcylcbiAgICBsaWJzSGVscGVyLnN0cmluZ1RvQ2xhc3MoZm9ybVRhc2ssIGZvcm1UYXNrQ2xhc3MpXG4gICAgbGlic0hlbHBlci5zdHJpbmdUb0NsYXNzKGZvcm1UYXNrRGl2LCBmb3JtVGFza0RpdkNsYXNzKVxuXG4gICAgbGlic0hlbHBlci5zdHJpbmdUb0NsYXNzKGlucHV0LCBpbnB1dENsYXNzKVxuICAgIGxpYnNIZWxwZXIuc3RyaW5nVG9DbGFzcyhzdWJtaXRCdG4sIHN1Ym1pdEJ0bkNsYXNzKVxuICAgIGxpYnNIZWxwZXIuc3RyaW5nVG9DbGFzcyh0YXNrU3VibWl0QnRuLCBzdWJtaXRCdG5DbGFzcylcbiAgICBsaWJzSGVscGVyLnN0cmluZ1RvQ2xhc3ModGFza0lucHV0LCBpbnB1dENsYXNzKVxuXG5cblxuICAgIGRpdlNpZGViYXIuc3R5bGUgPSAnd2lkdGg6IDI4MHB4OydcbiAgICBzcGFuLmlubmVyVGV4dCA9ICdQcm9qZWN0cydcbiAgICBpbWcuc3R5bGUgPSAnd2lkdGg6IDMwcHgnXG4gICAgYnRuUHJvamVjdC5pbm5lclRleHQgPSAnKyBOZXcgUHJvamVjdCdcbiAgICBidG5UYXNrLmlubmVyVGV4dCA9ICcrIFRhc2snXG4gICAgZm9ybURpdi5zdHlsZSA9ICd3aWR0aDogMTUwcHg7J1xuICAgIGZvcm1UYXNrRGl2LnN0eWxlID0gJ3dpZHRoOiAyMDBweCdcbiAgICBzdWJtaXRCdG4uaW5uZXJUZXh0ID0gJysnXG4gICAgdGFza1N1Ym1pdEJ0bi5pbm5lclRleHQgPSAnKydcblxuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAnTmV3IFByb2plY3QnKVxuICAgIHRhc2tJbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgJ05ldyBUYXNrJylcblxuICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsICcuLi9zYW5kYm94L3B1YmxpYy90b2RvLnN2ZycpXG4gICAgZm9ybVByb2plY3Quc2V0QXR0cmlidXRlKCdhY3Rpb24nLCAnc3VibWl0JylcbiAgICBmb3JtUHJvamVjdC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2Zvcm0nKVxuICAgIGZvcm1UYXNrLnNldEF0dHJpYnV0ZSgnYWN0aW9uJywgJ3N1Ym1pdCcpXG4gICAgZm9ybVRhc2suc2V0QXR0cmlidXRlKCdpZCcsICdmb3JtVGFzaycpXG4gICAgZm9ybVRhc2suc2V0QXR0cmlidXRlKCduYW1lJywgJ3Rhc2tGb3JtJylcbiAgICB0YXNrSW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgJ3Rhc2tOYW1lJylcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnbmFtZScpXG5cbiAgICBmb3JtUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgbGV0IGRhdGEgPSBsaWJzSGVscGVyLmdldEZvcm1EYXRhKGUpXG4gICAgICAgIHB1YnN1Yi5wdWJsaXNoKCdsaVN1Ym1pdCcsIGRhdGEpXG4gICAgICAgIGZvcm1Qcm9qZWN0LnJlc2V0KClcbiAgICB9KVxuXG5cbiAgICBmb3JtVGFzay5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgbGV0IGRhdGEgPSBsaWJzSGVscGVyLmdldEZvcm1EYXRhKGUpXG4gICAgICAgIHB1YnN1Yi5wdWJsaXNoKCduZXdUYXNrJywgZGF0YSlcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIGZvcm1UYXNrLnJlc2V0KClcbiAgICB9KVxuXG5cblxuICAgIGJ0blByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBwdWJzdWIucHVibGlzaCgndG9vZ2xlRm9ybScsICdmb3JtUHJvamVjdCcpXG4gICAgfSlcblxuICAgIGJ0blRhc2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBwdWJzdWIucHVibGlzaCgndG9vZ2xlRm9ybScsICdmb3JtVGFzaycpXG4gICAgfSlcblxuXG5cbiAgICBwdWJzdWIuc3Vic2NyaWJlKCd0b29nbGVGb3JtJywgbGlic0hlbHBlci50b29nbGVFbGVtZW50KVxuICAgIHB1YnN1Yi5zdWJzY3JpYmUoJ3Rvb2dsZVRhc2snLCBsaWJzSGVscGVyLnRvb2dsZUVsZW1lbnQpXG5cbiAgICBwdWJzdWIuc3Vic2NyaWJlKCdsaVN1Ym1pdCcsIGNyZWF0ZUxpKVxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMaSh0ZXh0KSB7XG5cbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdmcnKTtcblxuICAgICAgICBjb25zdCBsaUNsYXNzID0gJ25hdi1pdGVtIG0tMidcbiAgICAgICAgY29uc3QgYUNMYXNzID0gJ25hdi1saW5rIGFjdGl2ZSdcbiAgICAgICAgY29uc3Qgc3ZnQ2xhc3MgPSAnYmkgbWUtMidcblxuXG4gICAgICAgIC8vIGNsYXNzZXMgXG4gICAgICAgIGxpYnNIZWxwZXIuc3RyaW5nVG9DbGFzcyhsaSwgbGlDbGFzcylcbiAgICAgICAgbGlic0hlbHBlci5zdHJpbmdUb0NsYXNzKGEsIGFDTGFzcylcbiAgICAgICAgbGlic0hlbHBlci5zdHJpbmdUb0NsYXNzKHN2Zywgc3ZnQ2xhc3MpXG5cblxuICAgICAgICAvL2EgbGluayBQcm9wc1xuICAgICAgICBhLmlubmVyVGV4dCA9IHRleHRcblxuICAgICAgICAvL1NWRyBQcm9wc1xuXG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgMTYpXG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIDE2KVxuICAgICAgICAvLyBzdmcuc2V0QXR0cmlidXRlKCd4bGluaycsICcjc3BlZWRvbWV0ZXIyJylcblxuICAgICAgICBhLmFwcGVuZChzdmcpXG5cbiAgICAgICAgbGkuYXBwZW5kKGEpXG4gICAgICAgIHB1YnN1Yi5wdWJsaXNoKCdjcmVhdGVMaScsIGxpKVxuICAgICAgICByZXR1cm4gbGlcbiAgICB9XG5cblxuICAgIHB1YnN1Yi5zdWJzY3JpYmUoJ2NyZWF0ZUxpJywgYmluZExpKVxuICAgIGZ1bmN0aW9uIGJpbmRMaShsaSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd1bCcpLmFwcGVuZChsaSlcbiAgICB9XG5cblxuICAgIGEuYXBwZW5kKGltZywgc3BhbilcblxuICAgIGZvcm1EaXYuYXBwZW5kKGlucHV0KVxuICAgIGZvcm1Qcm9qZWN0LmFwcGVuZChzdWJtaXRCdG4pXG4gICAgZm9ybVByb2plY3QuYXBwZW5kKGZvcm1EaXYpXG5cblxuICAgIGZvcm1UYXNrLmFwcGVuZCh0YXNrU3VibWl0QnRuLCB0YXNrSW5wdXQpXG4gICAgZm9ybVRhc2tEaXYuYXBwZW5kKGZvcm1UYXNrKVxuXG4gICAgZGl2U2lkZWJhci5hcHBlbmQoYSlcbiAgICBkaXZTaWRlYmFyLmFwcGVuZChidG5Qcm9qZWN0KVxuICAgIGRpdlNpZGViYXIuYXBwZW5kKGJ0blRhc2spXG4gICAgZGl2U2lkZWJhci5hcHBlbmQoZm9ybVByb2plY3QpXG4gICAgZGl2U2lkZWJhci5hcHBlbmQoZm9ybVRhc2tEaXYpXG4gICAgZGl2U2lkZWJhci5hcHBlbmQoaHIpXG4gICAgZGl2U2lkZWJhci5hcHBlbmQodWwpXG4gICAgZGl2U2lkZWJhci5hcHBlbmQoZGl2RGl2ZGUpXG5cblxuXG4gICAgcmV0dXJuIHsgZGl2U2lkZWJhciB9XG5cbn1cblxuLy8gTWFrZSBhIFNtYWxsIGZvcm0gdW5kZSB0aGUgcHJvamVjdCBHYW1lcGFkQnV0dG9uLCB3aGVuIG5ldyBQcm9qZWN0IGlzIHByZXNzZWQgXG4vLyBpdCBzaG93cyB0aGUgbGl0dGxlIGZvcm0gYnkgc2hvd2luZyBpdCdzIHZpc2FibGl0eSBhbmQgd2hlbiB5b3UgcHJlc3Mgc3VtYml0IGl0IGNhbGxzIHB1cHN1YlxuLy90aGUgY2FsbHMgYWRkIExJIGZ1bmN0aW9uIl0sIm5hbWVzIjpbImxpYnMiLCJzcGxpdFN0cmluZyIsInN0cmluZyIsInNwbGl0IiwiY2xhc3NBZGRlciIsImVsZW1lbnQiLCJhcnJheSIsImZvckVhY2giLCJjbGFzc0xpc3QiLCJhZGQiLCJnZXRJRCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsInN0cmluZ1RvQ2xhc3MiLCJnZXRGb3JtRGF0YSIsImV2ZW50IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsInRhcmdldCIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwiZm9ybVByb3BzIiwidG9vZ2xlRWxlbWVudCIsImlkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRhaW5zIiwicmVtb3ZlIiwicHVic3ViIiwiZXZlbnRzIiwic3Vic2NyaWJlIiwiZXZOYW1lIiwiZm4iLCJjb25zb2xlIiwibG9nIiwidGhpcyIsInB1c2giLCJ1bnN1YnNjcmliZSIsImZpbHRlciIsImYiLCJwdWJsaXNoIiwiZGF0YSIsInRhc2tzIiwidGFza0xvZ2ljIiwiX3Rhc2tzIiwiYWRkVGFzayIsInRhc2siLCJyZW1vdmVUYXNrIiwidGFyZ2V0VGFzayIsInQiLCJsaWJzSGVscGVyIiwiZGl2Qm9keSIsImNyZWF0ZUVsZW1lbnQiLCJkaXZDb250YWluZXIiLCJkaXZSb3ciLCJkaXZHYXAiLCJzdHlsZSIsImFwcGVuZCIsInRhc2tPYmoiLCJ0YXNrQ29tcCIsInAiLCJidG5Eb25lIiwiYnRuUmVtb3ZlIiwiaW5uZXJUZXh0IiwidGFza05hbWUiLCJjcmVhdGVUYXNrRG9tIiwibmV3VGFzayIsIl90YXNrTmFtZSIsIkRhdGUiLCJnZXREYXRlIiwicmVtb3ZlU2VsZiIsImdldE5hbWUiLCJwcm9wIiwiVGFzayIsImNyZWF0ZVRhc2tNZW1vcnkiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNvbnRlbnQiLCJfbmF2IiwibmF2IiwiZGl2IiwiYSIsIl9zaWRlYmFyIiwiZGl2U2lkZWJhciIsImltZyIsInNwYW4iLCJociIsInVsIiwiZm9ybVByb2plY3QiLCJmb3JtRGl2IiwiZm9ybVRhc2siLCJmb3JtVGFza0RpdiIsInRhc2tTdWJtaXRCdG4iLCJ0YXNrSW5wdXQiLCJpbnB1dCIsInN1Ym1pdEJ0biIsImRpdkRpdmRlIiwiYnRuUHJvamVjdCIsImJ0blRhc2siLCJpbnB1dENsYXNzIiwic3VibWl0QnRuQ2xhc3MiLCJzZXRBdHRyaWJ1dGUiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0IiwidGV4dCIsImxpIiwic3ZnIiwicXVlcnlTZWxlY3RvciIsInNpZGViYXIiXSwic291cmNlUm9vdCI6IiJ9